========================================
FIX CDI YOUSIGN - R√âSUM√â RAPIDE
========================================

PROBL√àME
--------
Erreur: "Yousign error: DOCX download failed: 400 Bad Request"
Lors de l'envoi de contrats CDI √† Yousign

CAUSE
-----
Le fichier DOCX du mod√®le CDI n'existe pas dans le storage

SOLUTION
--------
‚úÖ Fallback automatique HTML‚ÜíPDF
‚úÖ Si DOCX inaccessible ‚Üí g√©n√®re PDF depuis HTML
‚úÖ Aucun fichier DOCX requis pour les CDI
‚úÖ Fonctionne automatiquement

COMMENT √áA MARCHE
-----------------
1. Essaie de charger le DOCX
2. Si erreur 400 ‚Üí active le fallback
3. G√©n√®re un PDF depuis HTML via PDFShift
4. Envoie √† Yousign normalement

D√âPLOIEMENT
-----------
./DEPLOYER-FIX-CDI-YOUSIGN-MAINTENANT.sh

OU manuellement :
supabase functions deploy create-yousign-signature

TEST
----
1. Cr√©er un contrat CDI pour un salari√©
2. Cliquer sur "Envoyer le contrat"
3. Devrait fonctionner sans erreur

V√âRIFICATION
------------
Dans les logs Supabase, vous verrez :
‚ö†Ô∏è Utilisation du fallback HTML‚ÜíPDF au lieu du DOCX
üìù G√©n√©ration du PDF depuis HTML (fallback)...

FICHIERS MODIFI√âS
-----------------
- supabase/functions/create-yousign-signature/index.ts

DOCUMENTATION
-------------
- FIX-CDI-YOUSIGN-HTML-FALLBACK.md : Documentation compl√®te
- DEPLOYER-FIX-CDI-YOUSIGN-MAINTENANT.sh : Script de d√©ploiement

AVANTAGES
---------
‚úÖ Plus besoin de fichiers DOCX
‚úÖ R√©trocompatible avec DOCX existants
‚úÖ Logs d√©taill√©s pour debugging
‚úÖ Aucun changement frontend requis
‚úÖ Fonctionne pour CDI, CDD, Avenants
